enum ROLE {
  SCOUT_MASTER
  SR_PATROL_LEADER
  PATROL_LEADER
  SCOUT
  PARENT
}

enum WEEK_DAY {
  SUNDAY
  MONDAY
  TUESDAY
  WEDNESDAY
  THURSDAY
  FRIDAY
  SATURDAY
}

type Location @embedded {
  lat: Float!
  lng: Float!
}

type User {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  name: String!
  email: String! @unique
  password: String!
  phone: String
  birthday: String
  troop: Troop @relation(link: INLINE)
  patrol: Patrol
  role: ROLE
  events: [Event!] @relation(link: INLINE)
}

type Troop {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  council: String!
  state: String!
  unitNumber: Int
  patrols: [Patrol] @relation(link: INLINE)
  events: [Event!] @relation(link: INLINE)
}

type Patrol {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  name: String!
  members: [User!]! @relation(link: INLINE)
  events: [Event!] @relation(link: INLINE)
}

type Event {
  id: ID! @id
  type: String!
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  patrol: Patrol
  troop: Troop
  title: String!
  description: String
  date: DateTime
  time: DateTime
  location: Location @relation(name: "LocationOfLocationType")
  meetLocation: Location @relation(name: "MeetPointOfLocationType")
  startDate: DateTime
  endDate: DateTime
  recurring: Boolean
  day: WEEK_DAY
  distance: Int
  published: Boolean! @default(value: true)
  owner: User!
}
